local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer

local IsMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

local Config = {
    ESP = {
        Enabled = true,
        ShowBox = true,
        ShowName = true,
        ShowDistance = true,
        ShowHealth = true,
        BoxColor = Color3.fromRGB(255, 0, 0),
        NameColor = Color3.fromRGB(255, 255, 255),
        TeamCheck = true
    },
    Aimbot = {
        Enabled = false,
        FOV = IsMobile and 300 or 200,
        ShowFOV = true,
        FOVColor = Color3.fromRGB(255, 255, 255),
        TargetPart = "Head",
        Smoothness = IsMobile and 0.15 or 0.1,
        TeamCheck = true
    }
}

local ESPObjects = {}
local FOVCircle
local MobileGUI
local MenuOpen = true

-- Fun√ß√£o para verificar se o jogador est√° no mesmo time
local function IsSameTeam(player)
    if not LocalPlayer.Team or not player.Team then
        return false
    end
    return LocalPlayer.Team == player.Team
end

local function CreateGUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "ESPAimbotGUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.IgnoreGuiInset = true
    
    -- Bot√£o para abrir menu (quando fechado)
    local OpenButton = Instance.new("TextButton")
    OpenButton.Name = "OpenButton"
    OpenButton.Size = UDim2.new(0, 50, 0, 50)
    OpenButton.Position = UDim2.new(0, 10, 0.5, -25)
    OpenButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    OpenButton.BackgroundTransparency = 0.3
    OpenButton.BorderSizePixel = 0
    OpenButton.Text = "‚ò∞"
    OpenButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    OpenButton.TextSize = 24
    OpenButton.Font = Enum.Font.SourceSansBold
    OpenButton.Visible = false
    OpenButton.Parent = ScreenGui
    
    local OpenCorner = Instance.new("UICorner")
    OpenCorner.CornerRadius = UDim.new(0, 10)
    OpenCorner.Parent = OpenButton
    
    -- Painel principal
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 320, 0, 520)
    MainFrame.Position = UDim2.new(0.5, -160, 0.5, -260)
    MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    MainFrame.BackgroundTransparency = 0.1
    MainFrame.BorderSizePixel = 0
    MainFrame.Parent = ScreenGui
    
    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, 12)
    MainCorner.Parent = MainFrame
    
    -- Barra de t√≠tulo
    local TitleBar = Instance.new("Frame")
    TitleBar.Name = "TitleBar"
    TitleBar.Size = UDim2.new(1, 0, 0, 50)
    TitleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    TitleBar.BorderSizePixel = 0
    TitleBar.Parent = MainFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 12)
    TitleCorner.Parent = TitleBar
    
    local TitleFix = Instance.new("Frame")
    TitleFix.Size = UDim2.new(1, 0, 0, 12)
    TitleFix.Position = UDim2.new(0, 0, 1, -12)
    TitleFix.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    TitleFix.BorderSizePixel = 0
    TitleFix.Parent = TitleBar
    
    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Size = UDim2.new(1, -60, 1, 0)
    Title.Position = UDim2.new(0, 15, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = "üéØ ESP & Aimbot Menu"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.TextSize = 20
    Title.Font = Enum.Font.SourceSansBold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = TitleBar
    
    -- Bot√£o fechar
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "CloseButton"
    CloseButton.Size = UDim2.new(0, 40, 0, 40)
    CloseButton.Position = UDim2.new(1, -45, 0, 5)
    CloseButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    CloseButton.BorderSizePixel = 0
    CloseButton.Text = "‚úï"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 20
    CloseButton.Font = Enum.Font.SourceSansBold
    CloseButton.Parent = TitleBar
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 8)
    CloseCorner.Parent = CloseButton
    
    -- Container de conte√∫do
    local ContentFrame = Instance.new("ScrollingFrame")
    ContentFrame.Name = "ContentFrame"
    ContentFrame.Size = UDim2.new(1, -20, 1, -70)
    ContentFrame.Position = UDim2.new(0, 10, 0, 60)
    ContentFrame.BackgroundTransparency = 1
    ContentFrame.BorderSizePixel = 0
    ContentFrame.ScrollBarThickness = 6
    ContentFrame.CanvasSize = UDim2.new(0, 0, 0, 680)
    ContentFrame.Parent = MainFrame
    
    -- Fun√ß√£o para criar se√ß√£o
    local function CreateSection(name, yPos)
        local Section = Instance.new("Frame")
        Section.Name = name
        Section.Size = UDim2.new(1, 0, 0, 40)
        Section.Position = UDim2.new(0, 0, 0, yPos)
        Section.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
        Section.BorderSizePixel = 0
        Section.Parent = ContentFrame
        
        local SectionCorner = Instance.new("UICorner")
        SectionCorner.CornerRadius = UDim.new(0, 8)
        SectionCorner.Parent = Section
        
        local Label = Instance.new("TextLabel")
        Label.Size = UDim2.new(1, -10, 1, 0)
        Label.Position = UDim2.new(0, 10, 0, 0)
        Label.BackgroundTransparency = 1
        Label.Text = name
        Label.TextColor3 = Color3.fromRGB(200, 200, 200)
        Label.TextSize = 16
        Label.Font = Enum.Font.SourceSansBold
        Label.TextXAlignment = Enum.TextXAlignment.Left
        Label.Parent = Section
        
        return Section
    end
    
    -- Fun√ß√£o para criar toggle button
    local function CreateToggle(name, yPos, defaultValue, callback)
        local Toggle = Instance.new("Frame")
        Toggle.Name = name
        Toggle.Size = UDim2.new(1, 0, 0, 50)
        Toggle.Position = UDim2.new(0, 0, 0, yPos)
        Toggle.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        Toggle.BorderSizePixel = 0
        Toggle.Parent = ContentFrame
        
        local ToggleCorner = Instance.new("UICorner")
        ToggleCorner.CornerRadius = UDim.new(0, 8)
        ToggleCorner.Parent = Toggle
        
        local Label = Instance.new("TextLabel")
        Label.Size = UDim2.new(1, -90, 1, 0)
        Label.Position = UDim2.new(0, 10, 0, 0)
        Label.BackgroundTransparency = 1
        Label.Text = name
        Label.TextColor3 = Color3.fromRGB(255, 255, 255)
        Label.TextSize = 14
        Label.Font = Enum.Font.SourceSans
        Label.TextXAlignment = Enum.TextXAlignment.Left
        Label.Parent = Toggle
        
        local Button = Instance.new("TextButton")
        Button.Size = UDim2.new(0, 70, 0, 35)
        Button.Position = UDim2.new(1, -80, 0.5, -17.5)
        Button.BackgroundColor3 = defaultValue and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(170, 0, 0)
        Button.BorderSizePixel = 0
        Button.Text = defaultValue and "ON" or "OFF"
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 14
        Button.Font = Enum.Font.SourceSansBold
        Button.Parent = Toggle
        
        local ButtonCorner = Instance.new("UICorner")
        ButtonCorner.CornerRadius = UDim.new(0, 8)
        ButtonCorner.Parent = Button
        
        local isOn = defaultValue
        Button.MouseButton1Click:Connect(function()
            isOn = not isOn
            Button.Text = isOn and "ON" or "OFF"
            Button.BackgroundColor3 = isOn and Color3.fromRGB(0, 170, 0) or Color3.fromRGB(170, 0, 0)
            callback(isOn)
        end)
        
        return Toggle
    end
    
    -- Fun√ß√£o para criar slider
    local function CreateSlider(name, yPos, minVal, maxVal, defaultVal, callback)
        local Slider = Instance.new("Frame")
        Slider.Name = name
        Slider.Size = UDim2.new(1, 0, 0, 60)
        Slider.Position = UDim2.new(0, 0, 0, yPos)
        Slider.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
        Slider.BorderSizePixel = 0
        Slider.Parent = ContentFrame
        
        local SliderCorner = Instance.new("UICorner")
        SliderCorner.CornerRadius = UDim.new(0, 8)
        SliderCorner.Parent = Slider
        
        local Label = Instance.new("TextLabel")
        Label.Size = UDim2.new(1, -20, 0, 20)
        Label.Position = UDim2.new(0, 10, 0, 5)
        Label.BackgroundTransparency = 1
        Label.Text = name .. ": " .. defaultVal
        Label.TextColor3 = Color3.fromRGB(255, 255, 255)
        Label.TextSize = 14
        Label.Font = Enum.Font.SourceSans
        Label.TextXAlignment = Enum.TextXAlignment.Left
        Label.Parent = Slider
        
        local SliderBar = Instance.new("Frame")
        SliderBar.Name = "SliderBar"
        SliderBar.Size = UDim2.new(1, -20, 0, 20)
        SliderBar.Position = UDim2.new(0, 10, 0, 30)
        SliderBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        SliderBar.BorderSizePixel = 0
        SliderBar.Parent = Slider
        
        local BarCorner = Instance.new("UICorner")
        BarCorner.CornerRadius = UDim.new(0, 10)
        BarCorner.Parent = SliderBar
        
        local Fill = Instance.new("Frame")
        Fill.Name = "Fill"
        Fill.Size = UDim2.new((defaultVal - minVal) / (maxVal - minVal), 0, 1, 0)
        Fill.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
        Fill.BorderSizePixel = 0
        Fill.Parent = SliderBar
        
        local FillCorner = Instance.new("UICorner")
        FillCorner.CornerRadius = UDim.new(0, 10)
        FillCorner.Parent = Fill
        
        local SliderButton = Instance.new("TextButton")
        SliderButton.Size = UDim2.new(1, 0, 1, 0)
        SliderButton.BackgroundTransparency = 1
        SliderButton.Text = ""
        SliderButton.Parent = SliderBar
        
        local dragging = false
        
        SliderButton.MouseButton1Down:Connect(function()
            dragging = true
        end)
        
        UserInputService.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                dragging = false
            end
        end)
        
        RunService.RenderStepped:Connect(function()
            if dragging then
                local mouse = UserInputService:GetMouseLocation()
                local relativeX = math.clamp((mouse.X - SliderBar.AbsolutePosition.X) / SliderBar.AbsoluteSize.X, 0, 1)
                local value = math.floor(minVal + (maxVal - minVal) * relativeX)
                
                Fill.Size = UDim2.new(relativeX, 0, 1, 0)
                Label.Text = name .. ": " .. value
                callback(value)
            end
        end)
        
        return Slider
    end
    
    -- Criar elementos do menu
    CreateSection("üì¶ ESP Settings", 0)
    CreateToggle("ESP Enabled", 50, Config.ESP.Enabled, function(val)
        Config.ESP.Enabled = val
    end)
    CreateToggle("Show Box", 110, Config.ESP.ShowBox, function(val)
        Config.ESP.ShowBox = val
    end)
    CreateToggle("Show Name", 170, Config.ESP.ShowName, function(val)
        Config.ESP.ShowName = val
    end)
    CreateToggle("Show Distance", 230, Config.ESP.ShowDistance, function(val)
        Config.ESP.ShowDistance = val
    end)
    CreateToggle("Show Health Bar", 290, Config.ESP.ShowHealth, function(val)
        Config.ESP.ShowHealth = val
    end)
    CreateToggle("Team Check (ESP)", 350, Config.ESP.TeamCheck, function(val)
        Config.ESP.TeamCheck = val
    end)
    
    CreateSection("üéØ Aimbot Settings", 410)
    CreateToggle("Aimbot Enabled", 460, Config.Aimbot.Enabled, function(val)
        Config.Aimbot.Enabled = val
    end)
    CreateToggle("Show FOV Circle", 520, Config.Aimbot.ShowFOV, function(val)
        Config.Aimbot.ShowFOV = val
    end)
    CreateToggle("Team Check (Aimbot)", 580, Config.Aimbot.TeamCheck, function(val)
        Config.Aimbot.TeamCheck = val
    end)
    CreateSlider("FOV Size", 640, 50, 500, Config.Aimbot.FOV, function(val)
        Config.Aimbot.FOV = val
    end)
    
    -- Eventos do menu
    CloseButton.MouseButton1Click:Connect(function()
        MainFrame:TweenPosition(UDim2.new(0.5, -160, -0.5, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Back, 0.3, true)
        wait(0.3)
        MainFrame.Visible = false
        OpenButton.Visible = true
        MenuOpen = false
    end)
    
    OpenButton.MouseButton1Click:Connect(function()
        MainFrame.Visible = true
        MainFrame:TweenPosition(UDim2.new(0.5, -160, 0.5, -260), Enum.EasingDirection.Out, Enum.EasingStyle.Back, 0.3, true)
        OpenButton.Visible = false
        MenuOpen = true
    end)
    
    -- Drag para mover o menu
    local dragging = false
    local dragInput, mousePos, framePos
    
    TitleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            mousePos = input.Position
            framePos = MainFrame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    
    TitleBar.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - mousePos
            MainFrame.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
        end
    end)
    
    ScreenGui.Parent = game:GetService("CoreGui")
    MobileGUI = ScreenGui
end

local function CreateFOVCircle()
    if FOVCircle then FOVCircle:Remove() end
    FOVCircle = Drawing.new("Circle")
    FOVCircle.Thickness = 2
    FOVCircle.NumSides = 64
    FOVCircle.Radius = Config.Aimbot.FOV
    FOVCircle.Color = Config.Aimbot.FOVColor
    FOVCircle.Visible = Config.Aimbot.ShowFOV
    FOVCircle.Filled = false
    FOVCircle.Transparency = 1
end

local function CreateESP(player)
    local ESP = {
        Box = Drawing.new("Square"),
        Name = Drawing.new("Text"),
        Distance = Drawing.new("Text"),
        HealthBar = Drawing.new("Square"),
        HealthBarBG = Drawing.new("Square")
    }
    
    ESP.Box.Thickness = 2
    ESP.Box.Color = Config.ESP.BoxColor
    ESP.Box.Filled = false
    ESP.Box.Visible = false
    
    ESP.Name.Size = 14
    ESP.Name.Center = true
    ESP.Name.Outline = true
    ESP.Name.Color = Config.ESP.NameColor
    ESP.Name.Visible = false
    
    ESP.Distance.Size = 12
    ESP.Distance.Center = true
    ESP.Distance.Outline = true
    ESP.Distance.Color = Config.ESP.NameColor
    ESP.Distance.Visible = false
    
    ESP.HealthBarBG.Thickness = 1
    ESP.HealthBarBG.Color = Color3.fromRGB(0, 0, 0)
    ESP.HealthBarBG.Filled = true
    ESP.HealthBarBG.Visible = false
    ESP.HealthBarBG.Transparency = 0.5
    
    ESP.HealthBar.Thickness = 1
    ESP.HealthBar.Color = Color3.fromRGB(0, 255, 0)
    ESP.HealthBar.Filled = true
    ESP.HealthBar.Visible = false
    
    ESPObjects[player] = ESP
end

local function RemoveESP(player)
    if ESPObjects[player] then
        for _, drawing in pairs(ESPObjects[player]) do
            drawing:Remove()
        end
        ESPObjects[player] = nil
    end
end

local function UpdateESP()
    for player, esp in pairs(ESPObjects) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
            
            -- Verificar se est√° no mesmo time
            if Config.ESP.TeamCheck and IsSameTeam(player) then
                esp.Box.Visible = false
                esp.Name.Visible = false
                esp.Distance.Visible = false
                esp.HealthBar.Visible = false
                esp.HealthBarBG.Visible = false
            else
                local hrp = player.Character.HumanoidRootPart
                local head = player.Character:FindFirstChild("Head")
                local humanoid = player.Character.Humanoid
                
                local vector, onScreen = Camera:WorldToViewportPoint(hrp.Position)
                
                if onScreen and Config.ESP.Enabled then
                    local headPos = Camera:WorldToViewportPoint(head.Position + Vector3.new(0, 0.5, 0))
                    local legPos = Camera:WorldToViewportPoint(hrp.Position - Vector3.new(0, 3, 0))
                    
                    local height = math.abs(headPos.Y - legPos.Y)
                    local width = height / 2
                    
                    if Config.ESP.ShowBox then
                        esp.Box.Size = Vector2.new(width, height)
                        esp.Box.Position = Vector2.new(vector.X - width/2, vector.Y - height/2)
                        esp.Box.Visible = true
                    else
                        esp.Box.Visible = false
                    end
                    
                    if Config.ESP.ShowHealth then
                        local healthPercent = humanoid.Health / humanoid.MaxHealth
                        local barHeight = height
                        local barWidth = 4
                        
                        esp.HealthBarBG.Size = Vector2.new(barWidth, barHeight)
                        esp.HealthBarBG.Position = Vector2.new(vector.X - width/2 - barWidth - 2, vector.Y - height/2)
                        esp.HealthBarBG.Visible = true
                        
                        esp.HealthBar.Size = Vector2.new(barWidth, barHeight * healthPercent)
                        esp.HealthBar.Position = Vector2.new(vector.X - width/2 - barWidth - 2, vector.Y - height/2 + barHeight * (1 - healthPercent))
                        esp.HealthBar.Color = Color3.fromRGB(255 * (1 - healthPercent), 255 * healthPercent, 0)
                        esp.HealthBar.Visible = true
                    else
                        esp.HealthBar.Visible = false
                        esp.HealthBarBG.Visible = false
                    end
                    
                    if Config.ESP.ShowName then
                        esp.Name.Text = player.Name
                        esp.Name.Position = Vector2.new(vector.X, headPos.Y - 20)
                        esp.Name.Visible = true
                    else
                        esp.Name.Visible = false
                    end
                    
                    if Config.ESP.ShowDistance then
                        local distance = math.floor((hrp.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude)
                        esp.Distance.Text = distance .. "m"
                        esp.Distance.Position = Vector2.new(vector.X, legPos.Y + 5)
                        esp.Distance.Visible = true
                    else
                        esp.Distance.Visible = false
                    end
                else
                    esp.Box.Visible = false
                    esp.Name.Visible = false
                    esp.Distance.Visible = false
                    esp.HealthBar.Visible = false
                    esp.HealthBarBG.Visible = false
                end
            end
        else
            esp.Box.Visible = false
            esp.Name.Visible = false
            esp.Distance.Visible = false
            esp.HealthBar.Visible = false
            esp.HealthBarBG.Visible = false
        end
    end
end

local function GetScreenCenter()
    if IsMobile then
        return Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
    else
        return UserInputService:GetMouseLocation()
    end
end

local function GetClosestPlayer()
    local closestPlayer = nil
    local shortestDistance = Config.Aimbot.FOV
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(Config.Aimbot.TargetPart) and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
            
            -- Verificar se est√° no mesmo time
            if Config.Aimbot.TeamCheck and IsSameTeam(player) then
                continue
            end
            
            local targetPart = player.Character[Config.Aimbot.TargetPart]
            local screenPoint, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
            
            if onScreen then
                local centerPos = GetScreenCenter()
                local distance = (Vector2.new(screenPoint.X, screenPoint.Y) - centerPos).Magnitude
                
                if distance < shortestDistance then
                    closestPlayer = player
                    shortestDistance = distance
                end
            end
        end
    end
    
    return closestPlayer
end

local function Aimbot()
    if not Config.Aimbot.Enabled then return end
    
    local target = GetClosestPlayer()
    if target and target.Character and target.Character:FindFirstChild(Config.Aimbot.TargetPart) then
        local targetPart = target.Character[Config.Aimbot.TargetPart]
        local targetPos = targetPart.Position
        
        if targetPart.Parent:FindFirstChild("Humanoid") then
            local velocity = targetPart.Velocity
            targetPos = targetPos + (velocity * 0.1)
        end
        
        local cameraPos = Camera.CFrame.Position
        local direction = (targetPos - cameraPos).Unit
        local targetCFrame = CFrame.new(cameraPos, cameraPos + direction)
        
        Camera.CFrame = Camera.CFrame:Lerp(targetCFrame, Config.Aimbot.Smoothness)
    end
end

-- Fun√ß√£o para mostrar mensagem de cr√©ditos
local function ShowCreditMessage()
    local TempGui = Instance.new("ScreenGui")
    TempGui.Name = "CreditGui"
    TempGui.ResetOnSpawn = false
    TempGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    TempGui.IgnoreGuiInset = true
    TempGui.Parent = game:GetService("CoreGui")
    
    local CreditLabel = Instance.new("TextLabel")
    CreditLabel.Name = "CreditLabel"
    CreditLabel.Size = UDim2.new(0, 300, 0, 60)
    CreditLabel.Position = UDim2.new(0.5, -150, 0.5, -30)
    CreditLabel.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    CreditLabel.BackgroundTransparency = 1
    CreditLabel.BorderSizePixel = 0
    CreditLabel.Text = "‚ú® Feito por Eri10pc ‚ú®"
    CreditLabel.TextColor3 = Color3.fromRGB(0, 255, 255)
    CreditLabel.TextSize = 24
    CreditLabel.Font = Enum.Font.SourceSansBold
    CreditLabel.TextStrokeTransparency = 0.5
    CreditLabel.TextTransparency = 1
    CreditLabel.Parent = TempGui
    
    local CreditCorner = Instance.new("UICorner")
    CreditCorner.CornerRadius = UDim.new(0, 12)
    CreditCorner.Parent = CreditLabel
    
    -- Fade in
    local fadeIn = TweenService:Create(CreditLabel, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        BackgroundTransparency = 0.2,
        TextTransparency = 0
    })
    fadeIn:Play()
    
    -- Aguardar 3 segundos e fazer fade out
    task.wait(3)
    local fadeOut = TweenService:Create(CreditLabel, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
        BackgroundTransparency = 1,
        TextTransparency = 1
    })
    fadeOut:Play()
    
    -- Remover ap√≥s fade out
    fadeOut.Completed:Connect(function()
        TempGui:Destroy()
    end)
    
    -- Retornar tempo total da anima√ß√£o
    return 3.5
end

-- Inicializa√ß√£o
print("=================================")
print("Carregando ESP & Aimbot...")
print("=================================")

-- Mostrar mensagem de cr√©ditos primeiro
ShowCreditMessage()
task.wait(3.5) -- Aguardar a mensagem terminar

-- Depois inicializar o script
CreateFOVCircle()
CreateGUI()

for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        CreateESP(player)
    end
end

Players.PlayerAdded:Connect(function(player)
    CreateESP(player)
end)

Players.PlayerRemoving:Connect(function(player)
    RemoveESP(player)
end)

-- Toggle menu com tecla M
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed and input.KeyCode == Enum.KeyCode.M then
        if MenuOpen then
            MobileGUI.MainFrame:TweenPosition(UDim2.new(0.5, -160, -0.5, 0), Enum.EasingDirection.Out, Enum.EasingStyle.Back, 0.3, true)
            wait(0.3)
            MobileGUI.MainFrame.Visible = false
            MobileGUI.OpenButton.Visible = true
            MenuOpen = false
        else
            MobileGUI.MainFrame.Visible = true
            MobileGUI.MainFrame:TweenPosition(UDim2.new(0.5, -160, 0.5, -260), Enum.EasingDirection.Out, Enum.EasingStyle.Back, 0.3, true)
            MobileGUI.OpenButton.Visible = false
            MenuOpen = true
        end
    end
end)

RunService.RenderStepped:Connect(function()
    if FOVCircle then
        FOVCircle.Position = GetScreenCenter()
        FOVCircle.Visible = Config.Aimbot.ShowFOV
        FOVCircle.Radius = Config.Aimbot.FOV
    end
    
    UpdateESP()
    Aimbot()
end)

print("=================================")
print("ESP & Aimbot carregado!")
print("Pressione M para abrir/fechar menu")
print("Team Check ativado por padr√£o")
print("=================================")
